<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.112.1/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/gaze@0.1.0/dist/webxr-input-profiles-gaze.min.js"></script>
    <script>
      // Wait for the DOM to load.
      document.addEventListener("DOMContentLoaded", function () {
        // Get a reference to the A-Frame scene.
        var scene = document.querySelector("a-scene");

        // Create a Three.js geometry for the cube.
        var cubeGeometry = new THREE.BoxGeometry(0.5, 0.5, 0.5);

        // Create a Three.js material for the cube.
        var cubeMaterial = new THREE.MeshStandardMaterial({ color: 0xff0000 });

        // Create a Three.js mesh for the cube.
        var cubeMesh = new THREE.Mesh(cubeGeometry, cubeMaterial);

        // Add the cube mesh to the A-Frame scene.
        // scene.add(cubeMesh);

        // Listen for mousedown events on the scene.
        scene.addEventListener("click", function (event) {
          // Get the position of the mouse event.
          var mouseX = event.clientX;
          var mouseY = event.clientY;

                    // Create a new THREE.Raycaster
            var raycaster = new THREE.Raycaster();

            // Set the origin of the raycaster to the position of the camera
            raycaster.setFromCamera({x: mouseX, y: mouseY}, camera);

            // Get the first object that the raycaster intersects
            var intersects = raycaster.intersectObjects(scene.children);

            if (intersects.length > 0) {
            var hit = intersects[0];
            cubeMesh.position.set(hit.point.x, hit.point.y, hit.point.z);
            scene.add(cubeMesh);
            }
        });
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-camera>
        <a-cursor></a-cursor>
      </a-camera>
    </a-scene>
  </body>
</html>